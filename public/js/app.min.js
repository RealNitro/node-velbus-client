!function n(e,t,o){function r(a,s){if(!t[a]){if(!e[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var l=t[a]={exports:{}};e[a][0].call(l.exports,function(n){var t=e[a][1][n];return r(t?t:n)},l,l.exports,n,e,t,o)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(n,e,t){(function(){var n;n=function(){function n(n,e){var t,o;this.element=n,o={address:this.element.data("address"),channel:this.element.data("channel")},t=$('<input type="checkbox">'),this.element.append(t),t.bootstrapToggle(),t.change(function(n){return function(){t.prop("checked")?(n.element.find("input").data("bs.toggle").off(!0),o.command="switch_relay_on"):(n.element.find("input").data("bs.toggle").on(!0),o.command="switch_relay_off"),e(JSON.stringify(o))}}(this)),o.command="relay_status_request",e(JSON.stringify(o))}return n.prototype.process=function(n){switch(n.message){case"relay_channel_on":return this.element.find("input").data("bs.toggle").on(!0);case"relay_channel_off":return this.element.find("input").data("bs.toggle").off(!0);default:throw new Error("message_not_supported")}},n}(),e.exports=n}).call(this)},{}],2:[function(n,e,t){(function(){var e;e=n("./client"),$(document).ready(function(){new e(node_velbus_client_config.server)})}).call(this)},{"./client":3}],3:[function(n,e,t){(function(){var t,o,r=function(n,e){return function(){return n.apply(e,arguments)}};o={VMB4RYNO:n("./VMB4RYNO")},t=function(){function n(n){this.send=r(this.send,this);var e;this.connection=new WebSocket(n.protocol+"://"+n.host+":"+n.port),this.connection.onerror=function(n){console.log("WebSocket Error "+n)},this.connection.onmessage=function(n){var t,o,r,i;if(t=JSON.parse(n.data),o=$("[data-address='"+t.address+"']"+("[data-channel='"+t.channel+"']")),t.address+"_"+t.channel in e)try{e[t.address+"_"+t.channel].process(t)}catch(i){r=i,console.log(r),this.constructor.warn("Unsupported message received.")}},e={},$(".velbus").each(function(n){return function(t,r){e[$(r).data("address")+"_"+$(r).data("channel")]=new(o[$(r).data("module")])($(r),n.send)}}(this))}return n.warn=function(n){var e;e="glyphicon glyphicon-exclamation-sign",bootbox.alert({message:"<span class='"+e+"' aria-hidden='true' /> "+n})},n.prototype.send=function(n,e){if(null==e&&(e=0),this.connection.readyState)this.connection.send(n);else{if(10===e)return void this.constructor.warn("Cannot connect to server.");setTimeout(function(t){return function(){t.send(n,e+1)}}(this),100)}},n}(),e.exports=t}).call(this)},{"./VMB4RYNO":1}]},{},[2]);
//# sourceMappingURL=app.min.js.map
