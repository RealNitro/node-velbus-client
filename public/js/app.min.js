!function e(t,n,s){function r(o,i){if(!n[o]){if(!t[o]){var c="function"==typeof require&&require;if(!i&&c)return c(o,!0);if(a)return a(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[o]={exports:{}};t[o][0].call(u.exports,function(e){var n=t[o][1][e];return r(n?n:e)},u,u.exports,e,t,n,s)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<s.length;o++)r(s[o]);return r}({1:[function(e,t,n){(function(){var t;t=e("./client"),$(document).ready(function(){new t(node_velbus_client_config.server)})}).call(this)},{"./client":2}],2:[function(e,t,n){(function(){var n,s,r=function(e,t){return function(){return e.apply(t,arguments)}};s={VMB4RYNO:e("./modules/VMB4RYNO"),VMB4DC:e("./modules/VMB4DC")},n=function(){function e(e){this.send=r(this.send,this);var t;this.connection=new WebSocket(e.protocol+"://"+e.host+":"+e.port),this.connection.onerror=function(e){console.log("WebSocket Error "+e)},this.connection.onmessage=function(e){var n,s,r;if(n=JSON.parse(e.data),n.address.length<2&&(n.address="0"+n.address),n.address+"_"+n.channel in t)try{t[n.address+"_"+n.channel].process(n)}catch(r){s=r,console.log(s),this.constructor.warn("Unsupported message received.")}},t={},$(".velbus").each(function(e){return function(n,r){t[$(r).data("address")+"_"+$(r).data("channel")]=new(s[$(r).data("module")])($(r),e.send)}}(this))}return e.warn=function(e){var t;t="glyphicon glyphicon-exclamation-sign",bootbox.alert({message:"<span class='"+t+"' aria-hidden='true' /> "+e})},e.prototype.send=function(e,t){if(null==t&&(t=0),this.connection.readyState)this.connection.send(e);else{if(10===t)return void this.constructor.warn("Cannot connect to server.");setTimeout(function(n){return function(){n.send(e,t+1)}}(this),100)}},e}(),t.exports=n}).call(this)},{"./modules/VMB4DC":3,"./modules/VMB4RYNO":4}],3:[function(e,t,n){(function(){var e;e=function(){function e(e,t){var n,s;this.element=e,s={address:this.element.data("address"),channel:this.element.data("channel")},n=$('<input type="text">'),n.attr("data-slider-min",0),n.attr("data-slider-max",100),n.attr("data-slider-value",0),n.attr("data-slider-tooltip","always"),this.element.append(n),n.slider(),n.on("slideStop",function(){var e;e=$(this).parent(".velbus").data("speed"),$(this).slider("disable"),s.command="set_dim_channel_value",s.value=$(this).slider("getValue"),s.speed=e,t(JSON.stringify(s))}),s.command="dimmer_channel_status_request",t(JSON.stringify(s))}return e.prototype.process=function(e){switch(e.message){case"dimmercontroller_status":if(this.element.find("input").slider("setValue",e.value),112&e.led_status)return this.element.find("input").slider("enable");break;case"slider_status":return this.element.find("input").slider("setValue",e.value);default:throw new Error("message_not_supported")}},e}(),t.exports=e}).call(this)},{}],4:[function(e,t,n){(function(){var e;e=function(){function e(e,t){var n,s;this.element=e,s={address:this.element.data("address"),channel:this.element.data("channel")},n=$('<input type="checkbox">'),this.element.append(n),n.bootstrapToggle(),n.change(function(){$(this).prop("checked")?($(this).data("bs.toggle").off(!0),s.command="switch_relay_on"):($(this).data("bs.toggle").on(!0),s.command="switch_relay_off"),t(JSON.stringify(s))}),s.command="relay_status_request",t(JSON.stringify(s))}return e.prototype.process=function(e){switch(e.message){case"relay_channel_on":return this.element.find("input").data("bs.toggle").on(!0);case"relay_channel_off":return this.element.find("input").data("bs.toggle").off(!0);default:throw new Error("message_not_supported")}},e}(),t.exports=e}).call(this)},{}]},{},[1]);
//# sourceMappingURL=app.min.js.map
